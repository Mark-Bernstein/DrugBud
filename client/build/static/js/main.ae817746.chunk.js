(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){},163:function(e,t,a){e.exports=a.p+"static/media/drugglerBackgroundImage.3aeb39e2.jpeg"},183:function(e,t,a){e.exports=a(352)},319:function(e,t,a){},338:function(e,t,a){},352:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),c=(a(119),a(18)),i=a(111),u=a.n(i),s=a(162),m=a.n(s),d=a(28),g=a(45),p=a(25),f=a(83),h=a(42),b=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"authenticateUser",value:function(e){localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}}]),e}(),v=a(387),E=a(381),x=a(163),y=a.n(x),w=function(e){Object(n.useEffect)(function(){e.toggleAuthenticateStatus()},[]);var t=Object(E.a)({signUp:{background:"linear-gradient(180deg, seagreen 100%, black 10%)",borderRadius:60,border:0,color:"white",fontWeight:"800",height:48,padding:"30px 30px",boxShadow:"3px 30px 5px 2px rgba(255, 105, 135, .8)"},login:{background:"linear-gradient(180deg, #23395d 100%, black 10%)",borderRadius:60,border:0,color:"white",fontWeight:"800",height:48,padding:"30px 30px",boxShadow:"3px 30px 5px 2px rgba(255, 105, 135, .8)"},label:{textTransform:"capitalize"},homePageButtonDiv:{backgroundColor:"black"}})();return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#23395d",paddingBottom:"50px"}},"Welcome to Druggler!"),r.a.createElement("h2",{style:{color:"#23395d"}},"Having trouble juggling all of your drugs?  Try Druggler!"),r.a.createElement("img",{src:y.a,height:"30%",width:"50%",style:{borderRadius:"100%",maxWidth:"300px",height:"200px"}}),r.a.createElement("hr",null),r.a.createElement("h3",{style:{color:"#23395d"}},"Don't have an account? Sign up!")),b.isUserAuthenticated()?r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"Welcome! You are logged in."):r.a.createElement("div",null,r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"You are not logged in."),r.a.createElement(p.Card,{className:"container"}),r.a.createElement(v.a,{classes:{root:t.login,label:t.label},size:"large",variant:"contained",component:d.b,to:"/login",style:{width:"30%"}},"Login"),r.a.createElement(v.a,{size:"large",classes:{root:t.signUp,label:t.label},variant:"contained",component:d.b,to:"/signup",style:{width:"30%"}},"Sign up")))},k=a(89),T=function(e){var t=e.component,a=Object(k.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return b.isUserAuthenticated()?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement(g.a,{to:{pathname:"/",state:{from:e.location}}})}}))},j=function(e){var t=e.component,a=Object(k.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return b.isUserAuthenticated()?r.a.createElement(g.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,Object.assign({},e,a))}}))},O=function(e){var t=e.component,a=Object(k.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return r.a.createElement(t,Object.assign({},e,a))}}))},C=a(14),N=a(44),S=a(86),D=a.n(S),A=a(51),I=a.n(A),W=(a(319),function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,o=e.successMessage,l=e.user;e.toggleAuthenticateStatus;return r.a.createElement(p.Card,{className:"container"},r.a.createElement("form",{action:"/",onSubmit:t},r.a.createElement("h2",{className:"card-heading"},"Login"),o&&r.a.createElement("p",{className:"success-message"},o),n.summary&&r.a.createElement("p",{className:"error-message"},n.summary),r.a.createElement("div",{className:"field-line"},r.a.createElement(I.a,{floatingLabelText:"Email",name:"email",errorText:n.email,onChange:a,value:l.email})),r.a.createElement("div",{className:"field-line"},r.a.createElement(I.a,{floatingLabelText:"Password",type:"password",name:"password",onChange:a,errorText:n.password,value:l.password})),r.a.createElement("div",{className:"button-line"},r.a.createElement(D.a,{className:"raised-button",type:"submit",label:"Log in",danger:!0})),r.a.createElement(p.CardText,null,"Don't have an account? ",r.a.createElement(d.b,{to:"/signup"},"Create one"),".")))}),q=a(32),G=a.n(q),z={login:function(e){return G.a.post("/auth/login",e)},signUp:function(e){return G.a.post("/auth/signup",e)},dashboard:function(e){return G.a.get("/api/dashboard",{headers:{Authorization:"bearer ".concat(e)}})},getDrugsConflict:function(e,t){return G.a.get("https://rxnav.nlm.nih.gov/REST/interaction/list.json?rxcuis=".concat(e),{headers:{Authorization:"bearer ".concat(t)}})},getDrugsID:function(e,t){return G.a.get("https://rxnav.nlm.nih.gov/REST/rxcui?name=".concat(e),{headers:{Authorization:"bearer ".concat(t)}})},saveDrug:function(e,t){return G.a.post("/api/drugs",e,{headers:{Authorization:"bearer ".concat(t)}})},getUser:function(e,t){return G.a.get("/api/user/"+e,{headers:{Authorization:"bearer ".concat(t)}})},saveDrugtoUser:function(e,t){return G.a.put("api/user",e,{headers:{Authorization:"bearer ".concat(t)}})},getAllUserDrugs:function(e,t){return G.a.get("api/user/drugs/"+e,{headers:{Authorization:"bearer ".concat(t)}})},removeDrug:function(e,t){return G.a.delete("api/drugs/"+e,{headers:{Authorization:"bearer ".concat(t)}})},drugTaken:function(e,t,a){return G.a.put("api/drugs/"+e,t,{headers:{Authorization:"bearer ".concat(a)}})}},F=function(e){var t=e.history,a=e.toggleAuthenticateStatus,o=Object(n.useState)({}),l=Object(c.a)(o,2),i=l[0],u=l[1],s=Object(n.useState)(""),m=Object(c.a)(s,2),d=m[0],g=m[1],p=Object(n.useState)({email:"",password:""}),f=Object(c.a)(p,2),h=f[0],v=f[1];Object(n.useEffect)(function(){var e=localStorage.getItem("successMessage"),t="";return e&&(t=e,localStorage.removeItem("successMessage")),g(t),function(){u({})}},[]);return r.a.createElement(W,{onSubmit:function(e){e.preventDefault();var n=h.email,r=h.password;z.login({email:n,password:r}).then(function(e){b.authenticateUser(e.data.token),a(),t.push("/dashboard")}).catch(function(e){var t=e.response,a=t.data.errors?t.data.errors:{};a.summary=t.data.message,u(a)})},onChange:function(e){var t=e.target,a=t.name,n=t.value;v(Object(N.a)({},h,Object(C.a)({},a,n)))},errors:i,successMessage:d,user:h})},L=function(e){var t=e.history;return Object(n.useEffect)(function(){b.deauthenticateUser(),t.push("/")},[]),r.a.createElement("div",null,r.a.createElement("p",null,"Logging out..."))},B=function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,o=e.user;return r.a.createElement(p.Card,{className:"container"},r.a.createElement("form",{action:"/",onSubmit:t},r.a.createElement("h2",{className:"card-heading"},"Sign Up"),n.summary&&r.a.createElement("p",{className:"error-message"},n.summary),r.a.createElement("div",{className:"field-line"},r.a.createElement(I.a,{floatingLabelText:"Name",name:"name",errorText:n.name,onChange:a,value:o.name})),r.a.createElement("div",{className:"field-line"},r.a.createElement(I.a,{floatingLabelText:"Email",name:"email",errorText:n.email,onChange:a,value:o.email})),r.a.createElement("div",{className:"field-line"},r.a.createElement(I.a,{floatingLabelText:"Password",type:"password",name:"password",onChange:a,errorText:n.password,value:o.password})),r.a.createElement("div",{className:"button-line"},r.a.createElement(D.a,{type:"submit",label:"Create New Account",primary:!0})),r.a.createElement(p.CardText,null,"Already have an account? ",r.a.createElement(d.b,{to:"/login"},"Log in"))))},M=function(e){var t=e.history,a=Object(n.useState)({}),o=Object(c.a)(a,2),l=o[0],i=o[1],u=Object(n.useState)({email:"",name:"",password:""}),s=Object(c.a)(u,2),m=s[0],d=s[1];return r.a.createElement(B,{onSubmit:function(e){e.preventDefault();var a=m.name,n=m.email,r=m.password;z.signUp({name:a,email:n,password:r}).then(function(e){localStorage.setItem("successMessage",e.data.message),t.push("/login"),i({})}).catch(function(e){var t=e.response,a=t.data.errors?t.data.errors:{};a.summary=t.data.message,i(Object(N.a)({},a,{errors:a}))})},onChange:function(e){var t=e.target,a=t.name,n=t.value;d(Object(N.a)({},m,Object(C.a)({},a,n)))},errors:l,user:m})},U=a(174),R=a(168),Q=a(175),P=function(e){var t=e.secretData,a=e.user;return r.a.createElement(p.Card,{className:"container"},r.a.createElement(p.CardTitle,{title:"Dashboard",subtitle:""}),t&&r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"Welcome ",r.a.createElement("strong",null,a.name),"!",r.a.createElement("br",null),t))},Y=(r.a.Component,a(173)),_=a(385),J=a(384),H=a(386),X=a(87),$=a.n(X),K=(a(337),Object(E.a)(function(e){var t,a;return{root:{flexGrow:1},title:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"800",fontFamily:"Constantia"},drugRes:{padding:"0",textAlign:"left",color:"black",fontWeight:"bold",fontSize:"14px",width:"auto",variant:"outlined",backgroundColor:"lightgreen",border:"0.1rem solid"},drugConflict:(t={padding:"0",textAlign:"left",color:"black",fontWeight:"bold",fontSize:"14px"},Object(C.a)(t,"padding","10px"),Object(C.a)(t,"variant","outlined"),Object(C.a)(t,"backgroundColor","lightgreen"),Object(C.a)(t,"border","0.1rem solid"),t),btn:{border:"2px solid seagreen",boxShadow:e.shadows[5],borderRadius:"30px",textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"400",align:"left",overflow:"auto",fontFamily:"Constantia"},gridBtn:{padding:"30px",overflow:"auto"},input:{width:"100%"},high:(a={backgroundColor:"#ff0000",textAlign:"center",overflow:"auto",padding:"10px",borderRadius:"30px"},Object(C.a)(a,"textAlign","center"),Object(C.a)(a,"color","black"),Object(C.a)(a,"fontWeight","400"),Object(C.a)(a,"fontFamily","Constantia"),Object(C.a)(a,"border","1.65mm ridge rgba(0, 0, 0, .8)"),a),deleteButton:{textAlign:"center",overflow:"auto",height:"30px",width:"30px"}}}));function V(){var e=K(),t=Object(n.useState)({}),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)([]),u=Object(c.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)([]),g=Object(c.a)(d,2),p=g[0],f=g[1],h=Object(n.useState)([]),b=Object(c.a)(h,2),E=b[0],x=b[1],y=function(e){z.getDrugsID(e).then(function(e){m([].concat(Object(Y.a)(s),[{id:s.length,name:e.data.idGroup.name,rxcui:e.data.idGroup.rxnormId}]))}).catch(function(e){return console.log(e)})},w=function(){var e="",t=!0,a=!1,n=void 0;try{for(var r,o=s[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){e+=r.value.rxcui[0]+"+"}}catch(l){a=!0,n=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}z.getDrugsConflict(e).then(function(e){var t=e.data.fullInteractionTypeGroup[1].fullInteractionType,a={},n=e.data.fullInteractionTypeGroup[0].fullInteractionType,r={},o=(e.data.fullInteractionTypeGroup,[]),c=[],i=!0,u=!1,s=void 0;try{for(var m,d=t[Symbol.iterator]();!(i=(m=d.next()).done);i=!0){a=m.value.interactionPair[0].severity,o.push({id:t.length,threat:a})}}catch(l){u=!0,s=l}finally{try{i||null==d.return||d.return()}finally{if(u)throw s}}var g=!0,p=!1,h=void 0;try{for(var b,v=n[Symbol.iterator]();!(g=(b=v.next()).done);g=!0){r=b.value.interactionPair[0].description,c.push({id:n.length,description:r})}}catch(l){p=!0,h=l}finally{try{g||null==v.return||v.return()}finally{if(p)throw h}}f(o),x(c)}).catch(function(e){console.log(e)})},k=function(e){var t=e.target.getAttribute("name");m(s.filter(function(e){return e.name!==t}))};return r.a.createElement("div",null,r.a.createElement(J.a,{container:!0,spacing:12},r.a.createElement(J.a,{item:!0,xs:12,container:!0,direction:"column",justify:"center"},r.a.createElement("div",{className:e.title},r.a.createElement("h1",null,"Check Drug Interactions"))),r.a.createElement(J.a,{item:!0,xs:2}),r.a.createElement(J.a,{item:!0,xs:8},r.a.createElement("p",null,"Add two or more drugs to see their interactions.")),r.a.createElement(J.a,{item:!0,xs:2}),r.a.createElement(J.a,{item:!0,xs:2}),r.a.createElement(J.a,{item:!0,xs:7},r.a.createElement("div",{className:e.inputField},r.a.createElement(H.a,{id:"drugTextField",className:e.input,type:"text",label:"Enter drug name here",variant:"filled",onChange:function(e){return l(e.target.value.trim())}}))),r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement("div",{className:e.inputField},r.a.createElement(v.a,{className:e.btn,type:"button",onClick:function(e){e.preventDefault(),y(o),document.getElementById("drugTextField").value="",document.getElementById("drugTextField").focus()},variant:"contained",color:"primary"},"Add Drug"))),r.a.createElement(J.a,{item:!0,xs:1}),r.a.createElement(J.a,{item:!0,xs:2}),r.a.createElement("div",null,r.a.createElement(J.a,{item:!0,xs:2}),s.length?r.a.createElement("div",null,s.map(function(t){return r.a.createElement(J.a,{container:!0,spacing:12},r.a.createElement(J.a,{item:!0,xs:10},r.a.createElement(_.a,{className:e.drugRes},r.a.createElement("h2",{key:t.id},"Name: ",t.name),r.a.createElement("h5",null,"RXCUI: ",t.rxcui))),r.a.createElement(J.a,{item:!0,xs:2},r.a.createElement(v.a,{style:{padding:"35px"},key:t.id,name:t.name,className:e.gridBtn,onClick:k,variant:"contained"},r.a.createElement($.a,{className:e.deleteButton,key:t.id,name:t.name,onClick:k}))))})):r.a.createElement("h3",null,"No Drugs Added"))),r.a.createElement("div",null,r.a.createElement(J.a,{container:!0,spacing:12},r.a.createElement(J.a,{item:!0,xs:2}),r.a.createElement(J.a,{item:!0,xs:10},r.a.createElement(v.a,{className:e.btn,type:"button",onClick:function(e){e.preventDefault(),w()},variant:"contained",color:"primary"},"Submit for conflicts")),r.a.createElement(J.a,{item:!0,xs:2})),r.a.createElement("hr",null)),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement("div",null,E.length?r.a.createElement(J.a,{container:!0,spacing:12},r.a.createElement(J.a,{item:!0,xs:8},E.map(function(t){return r.a.createElement(_.a,{className:e.drugConflict},r.a.createElement("h3",{key:t.id},t.description))})),r.a.createElement(J.a,{item:!0,xs:4},p.map(function(t){return r.a.createElement(_.a,{className:e.high},r.a.createElement("h3",{key:t.id},"Severity: ",t.threat))}))):r.a.createElement("div",null,r.a.createElement("h3",null,"No Conflicts Found")))))}a(353),a(338);var Z=a(36),ee=a.n(Z),te=a(73),ae=a(388);function ne(){return Math.round(20*Math.random())-10}function re(){var e=50+ne(),t=50+ne();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var oe=Object(E.a)(function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{border:"2px solid seagreen",boxShadow:e.shadows[5],width:"80%",height:"20%",borderRadius:"30px",textAlign:"center",backgroundColor:"seagreen"}}});function le(e){var t=oe(),a=r.a.useState(re),n=Object(c.a)(a,1)[0];return r.a.createElement("div",null,r.a.createElement(v.a,{className:t.button,type:"button",onClick:e.handleOpen,variant:"contained",color:"primary"},"Add Drug"),r.a.createElement(ae.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:e.open,onClose:e.handleClose},r.a.createElement("div",{style:n,className:t.paper},r.a.createElement("h2",{id:"simple-modal-title"},"Please enter your drug routine:",r.a.createElement("br",null)),r.a.createElement("form",null,r.a.createElement(H.a,{name:"name",label:"Enter drug name here",variant:"filled",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(H.a,{type:"text",label:"Last taken date? ex: '2020-11-30'",variant:"filled",name:"lastTakenDate",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(H.a,{type:"text",label:"Last taken time? ex: '11:30AM'",variant:"filled",name:"lastTakenTime",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(H.a,{type:"text",label:"Drug frequency? ex: '4'",variant:"filled",name:"frequency",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:e.handleFormSubmit},"Submit")))))}var ce=a(172),ie=a.n(ce),ue=a(52),se=a(389),me=a(63),de=function(e){var t=Object(E.a)(function(e){var t;return{root:{flexGrow:1},quarterOne:{backgroundColor:"white"},quarterTwo:{backgroundColor:"lightgreen"},quarterThree:{backgroundColor:"yellow"},quarterFour:{backgroundColor:"white"},eatNow:{backgroundColor:"red"},foo:function(e){return{backgroundColor:e.backgroundColor}},addDrug:(t={padding:e.spacing(2),textAlign:"center",color:e.palette.text.primary,backgroundColor:"black"},Object(C.a)(t,"color","white"),Object(C.a)(t,"fontWeight","900"),Object(C.a)(t,"align","left"),t),pillGrid2:{textAlign:"left",color:me.black,fontWeight:"bold",fontSize:"14px",width:"20.5%"},pillGridCell:{textAlign:"left",color:me.black,fontWeight:"bold",fontSize:"14px",width:"20.5%"}}}),a="quarterOne"===e.currentQuarter?{backgroundColor:"white"}:"quarterTwo"===e.currentQuarter?{backgroundColor:"green"}:"quarterThree"===e.currentQuarter?{backgroundColor:"yellow"}:"quarterFour"===e.currentQuarter?{backgroundColor:"orange"}:"eatNow"===e.currentQuarter?{backgroundColor:"red"}:void 0;console.log(a);var n=t(a);return r.a.createElement("div",null,r.a.createElement(ue.TableRow,{className:"".concat(n.pillGrid3," ").concat(n.foo)},r.a.createElement(se.a,{className:n.pillGrid2},e.name),r.a.createElement(se.a,{className:n.pillGrid2},e.lastTakenDate),r.a.createElement(se.a,{className:n.pillGrid2},e.lastTakenTime),r.a.createElement(se.a,{className:n.pillGrid2},e.frequency),r.a.createElement(se.a,{className:n.pillGrid2},r.a.createElement(v.a,{variant:"contained"},r.a.createElement($.a,{onClick:function(){return e.handleDrugRemove(e.id)}}))),r.a.createElement(se.a,{className:n.pillGridCell},r.a.createElement(v.a,{variant:"contained"},r.a.createElement(ie.a,{onClick:function(){return e.handleDrugTaken(e.id)}})))))},ge=a(351),pe=Object(E.a)(function(e){var t;return{root:{flexGrow:1},addDrug:(t={padding:e.spacing(2),textAlign:"center",color:e.palette.text.primary,backgroundColor:"seagreen"},Object(C.a)(t,"color","white"),Object(C.a)(t,"fontWeight","900"),Object(C.a)(t,"align","left"),Object(C.a)(t,"overflow","auto"),Object(C.a)(t,"fontFamily","Comic Sans MS, Comic Sans, cursive"),t),title:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Constantia"},title2:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Constantia",margin:"5%"},title3:{padding:e.spacing(2),textAlign:"center",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Constantia"},pillGrid2:{textAlign:"left",color:"midnightblue",fontWeight:"bold",fontSize:"14px",width:"20%"},removeCheckbox:{displayRowCheckbox:"false"},modal:{}}});function fe(){var e=pe(),t=Object(n.useState)({}),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)({}),u=Object(c.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(!1),g=Object(c.a)(d,2),p=g[0],f=g[1],h=Object(n.useState)([]),v=Object(c.a)(h,2),E=v[0],x=v[1],y=Object(n.useState)(""),w=Object(c.a)(y,2),k=w[0],T=w[1],j=Object(n.useState)([]),O=Object(c.a)(j,2),S=O[0],D=O[1],A=function(){f(!1)};Object(n.useEffect)(function(){(function(){var e=Object(te.a)(ee.a.mark(function e(){var t,a,n;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.dashboard(b.getToken());case 2:return t=e.sent,l(t.data.user),console.log(t),e.next=7,z.getAllUserDrugs(t.data.user._id,b.getToken());case 7:return a=e.sent,console.log(a),x(a.data),z.saveDrugtoUser(t.data,b.getToken()).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),e.next=13,L(a.data);case 13:n=e.sent,D(n);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[k]);var I=function(e){z.removeDrug(e,b.getToken()).then(function(e){T(E.length)}).catch(function(e){return console.log(e)})},W=0,q=function(e){var t=ge().format().split("T"),a=t[0],n=t[1].split(":"),r="".concat(n[0],":").concat(n[1]);z.drugTaken(e,{lastTakenDate:a,lastTakenTime:r},b.getToken()).then(function(e){T(W++)}).catch(function(e){return console.log(e)})},G=function(){var e=Object(te.a)(ee.a.mark(function e(t){var a,n;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map(function(e){return{id:e._id,combinedTime:"".concat(e.lastTakenDate," ").concat(e.lastTakenTime),frequency:parseInt(e.frequency)}});case 2:return a=e.sent,console.log(a),e.next=6,a.map(function(e){return{id:e.id,prediction:B(e.combinedTime,e.frequency)}});case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(te.a)(ee.a.mark(function e(t){var a,n,r;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge().format("YYYY-MM-DD hh:mm a"),e.next=3,G(t);case 3:return n=e.sent,console.log("Current time: ",a),console.log(n),e.next=8,n.map(function(e){var t=ge(a).isBefore(e.prediction[0]),n=ge(a).isBetween(e.prediction[0],e.prediction[1],"minutes","[)"),r=ge(a).isBetween(e.prediction[1],e.prediction[2],"minutes","[)"),o=ge(a).isBetween(e.prediction[2],e.prediction[3],"minutes","[)"),l=ge(a).isBetween(e.prediction[3],a,"minutes","[]");return console.log(e.id),console.log("Quarter 1 Met: ",t),console.log("Quarter 2 Met: ",n),console.log("Quarter 3 Met: ",r),console.log("Quarter 4 Met: ",o),t?"quarterOne":n?"quarterTwo":r?"quarterThree":o?"quarterFour":l?"eatNow":void 0});case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(te.a)(ee.a.mark(function e(t){var a;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,F(t).then(function(e){a=t.map(function(t,a){return Object(N.a)({},t,{currentQuarter:e[a]})})}).catch(function(e){return console.log(e)});case 3:return console.log("FINALLLLL: ",a),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(e,t){var a=U(t/4);console.log(a);var n=[],r=M(e,a);console.log("First Q: ",typeof r),n.push(r);var o=M(r,a);console.log("Added min 2: ",o),n.push(o);var l=M(o,a);console.log("Added min 3: ",l),n.push(l);var c=M(l,a);return console.log("Take now: ",c),n.push(c),console.log("Future Prediction :",n),n},M=function(e,t){return ge(e).add(t,"minutes").format("YYYY-MM-DD hh:mm a")},U=function(e){var t=60*(e-Math.floor(e));return 60*Math.floor(e)+t};return r.a.createElement("div",{className:e.root},r.a.createElement(J.a,{container:!0,spacing:2},r.a.createElement(J.a,{item:!0,xs:12,className:e.title2},r.a.createElement(_.a,{className:e.title},"My Pills Tracker"),r.a.createElement(ue.Table,null,r.a.createElement(ue.TableBody,{displayRowCheckbox:!1},r.a.createElement(ue.TableRow,null,r.a.createElement(ue.TableRow,null,r.a.createElement(se.a,{className:e.pillGrid2},"Pill Name"),r.a.createElement(se.a,{className:e.pillGrid2},"Last Date"),r.a.createElement(se.a,{className:e.pillGrid2},"Last Time"),r.a.createElement(se.a,{className:e.pillGrid2},"Frequency (hours)"),r.a.createElement(se.a,{className:e.pillGrid2},"Delete?"),r.a.createElement(se.a,{className:e.pillGrid2},"Take Pill")),S.map(function(e){return r.a.createElement(de,{id:e._id,key:e._id,name:e.name,frequency:e.frequency,lastTakenDate:e.lastTakenDate,lastTakenTime:e.lastTakenTime,handleDrugRemove:I,handleDrugTaken:q,currentQuarter:e.currentQuarter})}))))),r.a.createElement(J.a,{item:!0,xs:3,className:e.title3},r.a.createElement(le,{className:e.modal,name:"Drug 1",user_id:o._id,handleInputChange:function(e){var t=e.target,a=t.name,n=t.value;m(Object(N.a)({},s,Object(C.a)({},a,n))),console.log(s)},handleFormSubmit:function(e){e.preventDefault(),console.log("Drug Details: ",s.lastTakenDate,s.lastTakenTime,s.frequency),s.lastTakenDate&&s.frequency&&s.lastTakenTime&&(console.log("before API front end"),console.log("current user, ",o._id),z.saveDrug({name:s.name,lastTakenDate:s.lastTakenDate,lastTakenTime:s.lastTakenTime,frequency:parseInt(s.frequency),user:o._id},b.getToken()).then(function(e){console.log(e),T(E.length+5)}).then(function(e){return A()}).catch(function(e){return console.log(e)}))},handleOpen:function(){f(!0)},handleClose:A,open:p})),r.a.createElement(J.a,{item:!0,xs:4})))}var he=a(74),be=a.n(he),ve=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)(function(){l()},[]);var l=function(){o(b.isUserAuthenticated())};return r.a.createElement("div",{className:"body"},r.a.createElement(m.a,{muiTheme:u()()},r.a.createElement(d.a,null,r.a.createElement("div",{className:"appBar"},a?r.a.createElement("div",null,r.a.createElement("img",{src:be.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{margin:"0px",marginTop:"20px"}}),r.a.createElement("div",{className:"navTitle",style:{margin:"0px"}},"Druggler"),r.a.createElement("img",{src:be.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{margin:"0px",marginTop:"20px"}}),r.a.createElement("div",null,r.a.createElement(d.b,{className:"navButton",to:"/logout",color:"error"}," ","Log out"," ")),r.a.createElement("div",null,r.a.createElement(d.b,{className:"navButton",to:"/dashboard"}," ","My Pills"," ")),r.a.createElement("div",null,r.a.createElement(d.b,{className:"navButton",to:"/interactions"}," ","Interactions"," "))):r.a.createElement("div",null,r.a.createElement("img",{src:be.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{marginTop:"20px"}}),r.a.createElement("div",{className:"navTitle"},"Druggler"),r.a.createElement("img",{src:be.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{marginTop:"20px"}}))),r.a.createElement(O,{exact:!0,path:"/",component:w,toggleAuthenticateStatus:l}),r.a.createElement(T,{path:"/dashboard",component:fe}),r.a.createElement(T,{path:"/interactions",component:V}),r.a.createElement(j,{path:"/login",component:F,toggleAuthenticateStatus:l}),r.a.createElement(j,{path:"/signup",component:M}),r.a.createElement(g.b,{path:"/logout",component:L}))))},Ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(ve,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ee?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):xe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):xe(e)})}}()},74:function(e,t,a){e.exports=a.p+"static/media/pillsIcon.c235a917.png"}},[[183,1,2]]]);
//# sourceMappingURL=main.ae817746.chunk.js.map